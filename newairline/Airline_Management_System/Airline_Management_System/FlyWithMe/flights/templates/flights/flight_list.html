{% extends 'base.html' %}

{% block title %}Flight List{% endblock %}

{% block content %}
<h1>Flight List</h1>

<!-- Search Form -->
<form method="GET" style="margin-bottom: 20px;">
    <input type="text" name="search_id" value="{{ search_id }}" placeholder="Enter Flight ID" style="padding: 10px; border: 2px solid #ddd; width: 1200px;">
    <button type="submit" style="padding: 10px; background-color: #3cb371; color: white; border: none; cursor: pointer;">Search</button>
</form>

<!-- Flight Table -->
<table style="width: 100%; border-collapse: collapse;">
    <thead>
        <tr style="background-color: #66ff5f; color: white;">
            <th style="padding: 10px;">Flight ID</th>
            <th style="padding: 10px;">Departure Airport</th>
            <th style="padding: 10px;">Departure Date</th>
            <th style="padding: 10px;">Departure Time</th>
            <th style="padding: 10px;">Arrival Airport</th>
            <th style="padding: 10px;">Arrival Date</th>
            <th style="padding: 10px;">Arrival Time</th>
            <th style="padding: 10px;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% if flights %}
            {% for flight in flights %}
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.flight_id }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.dep_airport }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.dep_date }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.dep_time }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.arr_airport }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.arr_date }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ flight.arr_time }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">
                    <a href="{% url 'edit_flight' flight.id %}" style="padding: 5px 10px; background-color: #3cb371; color: white; text-decoration: none;">Edit</a>
                    <a href="{% url 'delete_flight' flight.id %}" style="padding: 5px 10px; background-color: #ff5819; color: white; text-decoration: none; margin-left: 10px;" onclick="return confirm('Are you sure you want to delete this flight?');">Delete</a>
                </td>
            </tr>
            {% endfor %}
        {% else %}
        <tr>
            <td colspan="8" style="padding: 10px; text-align: center;">No flights found.</td>
        </tr>
        {% endif %}
    </tbody>
</table>


{% endblock %}
